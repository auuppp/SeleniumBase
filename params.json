{
  "name": "SeleniumBase",
  "tagline": "Browser Automation & Testing Platform",
  "body": "![](http://cdn2.hubspot.net/hubfs/100006/images/SB_Logo19.png \"SeleniumBase\")\r\n\r\n[![pypi](https://img.shields.io/pypi/v/seleniumbase.svg)](https://pypi.python.org/pypi/seleniumbase) [![Build Status](https://travis-ci.org/seleniumbase/SeleniumBase.svg?branch=master)](https://travis-ci.org/seleniumbase/SeleniumBase) [![GitHub stars](https://img.shields.io/github/stars/seleniumbase/seleniumbase.svg \"GitHub stars\")](https://github.com/seleniumbase/SeleniumBase/stargazers) [![Python version](https://img.shields.io/badge/python-2.7-22AADD.svg \"Python version\")](https://docs.python.org/2/) [![MIT License](http://img.shields.io/badge/license-MIT-22BBCC.svg \"MIT License\")](https://github.com/seleniumbase/SeleniumBase/blob/master/LICENSE) [![Join the chat at https://gitter.im/seleniumbase/SeleniumBase](https://badges.gitter.im/seleniumbase/SeleniumBase.svg)](https://gitter.im/seleniumbase/SeleniumBase?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\r\n\r\n**Automation Platform for Testing and Business**\r\n\r\n(And the power to [speed up your manual testing](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/masterqa/ReadMe.md))\r\n\r\n![](http://cdn2.hubspot.net/hubfs/100006/images/sb_demo.gif \"SeleniumBase\")\r\n\r\n(Above: Actual demo of [my_first_test.py](https://github.com/seleniumbase/SeleniumBase/blob/master/examples/my_first_test.py) running against [xkcd.com](http://xkcd.com/353/))\r\n\r\n#### Features include:\r\n* [A Python library](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/fixtures/base_case.py) for quickly building [reliable WebDriver scripts](https://github.com/seleniumbase/SeleniumBase/blob/master/examples/my_first_test.py).\r\n* [Plugins](https://github.com/seleniumbase/SeleniumBase/tree/master/seleniumbase/plugins) for logging [data and screenshots](https://github.com/seleniumbase/SeleniumBase/tree/master/examples/example_logs) automatically.\r\n* Easy integration with [Selenium Grid](https://github.com/seleniumbase/SeleniumBase/tree/master/integrations/selenium_grid), [MySQL](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/core/testcase_manager.py), [Docker](https://github.com/seleniumbase/SeleniumBase/blob/master/integrations/docker/ReadMe.md), [NodeJS](https://github.com/seleniumbase/SeleniumBase/tree/master/integrations/node_js), [Google Cloud](https://github.com/seleniumbase/SeleniumBase/tree/master/integrations/google_cloud/ReadMe.md), and [Amazon S3](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/plugins/s3_logging_plugin.py).\r\n* Customizable with [command-line options](https://github.com/seleniumbase/SeleniumBase/blob/master/conftest.py) and a [global configuration file](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/config/settings.py).\r\n\r\nSeleniumBase makes it easy to automate tedious business tasks. (*To learn about businesses using SeleniumBase, [Click Here](https://github.com/seleniumbase/SeleniumBase/blob/master/help_docs/happy_customers.md).*)\r\n\r\n### Part I: Setup Instructions for Mac, Ubuntu, and Windows\r\n\r\n(**Debian Linux users**: Run [Linuxfile.sh](https://github.com/seleniumbase/SeleniumBase/blob/master/integrations/linux/Linuxfile.sh) to setup your Debian Linux machine.)\r\n\r\n(**Docker users**: See the [Docker ReadMe](https://github.com/seleniumbase/SeleniumBase/blob/master/integrations/docker/ReadMe.md) for running on a Docker machine.)\r\n\r\n\r\n#### **Step 0:** Install Python/pip, Web Browsers, and Web Drivers\r\n\r\n* To install ``python``, ``pip``, ``git``, and either ``virtualenv`` or ``virtualenvwrapper``, **[follow these instructions](https://github.com/seleniumbase/SeleniumBase/blob/master/help_docs/requirements_installation.md)**.\r\n\r\n* Download web browsers such as [Chrome](https://www.google.com/chrome/browser/desktop/index.html) (or [Chromium](https://download-chromium.appspot.com/)) and also [Firefox v46.*](https://ftp.mozilla.org/pub/firefox/releases/46.0.1/) (or [Firefox ESR](https://www.mozilla.org/en-US/firefox/organizations/)) because Firefox versions 47.0 and above are no longer compatible with normal Selenium WebDriver. (If you go with Firefox 46.*, make sure to turn off auto-updates or else you'll be back at v47+ quickly!)\r\n\r\n(NOTE: Firefox versions 47.0 and above are no longer compatible with normal Selenium WebDriver. [Get Firefox 46.*](https://ftp.mozilla.org/pub/firefox/releases/46.0.1/) instead, or you can [Get Firefox ESR](https://www.mozilla.org/en-US/firefox/organizations/). (If you go with Firefox 46.*, make sure to turn off auto-updates or else you'll be back at v47 quickly!) For more information regarding this, [read this post](http://stackoverflow.com/questions/37693106/selenium-2-53-not-working-on-firefox-47) from Stack Overflow. There's a [new version of Firefox driver](https://developer.mozilla.org/en-US/docs/Mozilla/QA/Marionette/WebDriver) coming soon.\r\n\r\n* If you want to run automation on browsers other than Firefox, you'll need to download [Chromedriver](https://sites.google.com/a/chromium.org/chromedriver/downloads), [PhantomJS](http://phantomjs.org/download.html), [Edge Driver (Microsoft WebDriver)](https://www.microsoft.com/en-us/download/details.aspx?id=48212), and/or [Safari Driver](https://github.com/seleniumbase/SeleniumBase/blob/master/help_docs/using_safari_driver.md) separately. (Firefox drivers come with Selenium by default.)\r\n\r\n* For everything you download (such as ``pip`` and ``Chromedriver``) make sure those files get on your system [PATH](http://java.com/en/download/help/path.xml). (``Environmental Variables`` on a Windows machine)\r\n\r\n* On a Mac, you can install drivers more easily by using ``brew`` (aka ``homebrew``), but you have to install that first. [Brew installation instructions are here](https://github.com/seleniumbase/SeleniumBase/blob/master/help_docs/requirements_installation.md).\r\n\r\nMac:\r\n```bash\r\nbrew install chromedriver phantomjs\r\n```\r\n\r\n* To verify that the web drivers are working, **[follow these instructions](https://github.com/seleniumbase/SeleniumBase/blob/master/help_docs/verify_webdriver.md)**.\r\n\r\n\r\n#### **Step 1:** Clone SeleniumBase to your local machine\r\n\r\n```bash\r\ngit clone https://github.com/seleniumbase/SeleniumBase.git\r\ncd SeleniumBase\r\n```\r\n\r\n(A Git GUI tool like [SourceTree](http://www.sourcetreeapp.com/) may make things easier.)\r\n\r\n\r\n#### **Step 2:** Create & activate a virtual environment for SeleniumBase\r\n\r\nIf you're not sure how to create a virtual environment, **[follow these instructions](https://github.com/seleniumbase/SeleniumBase/blob/master/help_docs/virtualenv_instructions.md)** to learn how.\r\n\r\n\r\n#### **Step 3:** Install SeleniumBase\r\n\r\nSince [SeleniumBase is in Pypi](https://pypi.python.org/pypi/seleniumbase), you can install it like this: (Using ``\"sudo\"`` may be required.)\r\n```bash\r\npip install seleniumbase --upgrade\r\n```\r\n\r\nYou can also customize your local version of SeleniumBase. If you change the Python requirements or make any changes to the SeleniumBase library files, just run the following commands from the SeleniumBase top-level directory for your changes to take effect:\r\n\r\n```bash\r\npip install -r requirements.txt\r\n```\r\n\r\n```bash\r\npython setup.py install\r\n```\r\n\r\nIf you wish to use the MySQL functionality with SeleniumBase to store test results and data in the database, you'll need to [follow these instructions](https://github.com/seleniumbase/SeleniumBase/blob/master/help_docs/mysql_installation.md).\r\n\r\n\r\n#### **Step 4:** Verify that SeleniumBase was successfully installed by running the example test\r\n\r\nYou can verify the installation of SeleniumBase by running a simple script to perform basic actions such as navigating to a web page, clicking, waiting for page elements to appear, typing in text, scraping text on a page, and verifying text. In most web browsers, you can right-click on a page and select \"Inspect Element\" to see the CSS selector details that you need to create such a script. With CSS selectors, dots represent class names and pound signs represent IDs.\r\n\r\nHere's what the code looks like from the first example script that you'll be running:\r\n\r\n```python\r\nfrom seleniumbase import BaseCase\r\n\r\nclass MyTestClass(BaseCase):\r\n\r\n    def test_basic(self):\r\n        self.open('http://xkcd.com/353/')                       # Opens the url\r\n        self.assert_element('img[alt=\"Python\"]')      # Asserts element on page\r\n        self.click('a[rel=\"license\"]')                 # Clicks element on page\r\n        xkcd_license = self.get_text('center')    # Gets text from page element\r\n        assert('reuse any of my drawings' in xkcd_license)\r\n        self.open('http://xkcd.com/1481/')\r\n        image_object = self.find_element('#comic img')    # Returns the element\r\n        caption = image_object.get_attribute('title')  # Gets attr from element\r\n        assert('connections to the server' in caption)\r\n        self.click_link_text('Blag')          # Clicks link containing the text\r\n        self.assert_text('The blag', 'header h2')     # Asserts text in element\r\n        self.update_text('input#s', 'Robots!\\n')  # Updates textfield with text\r\n        self.assert_text('Hooray robots!', '#content')\r\n        self.open('http://xkcd.com/1319/')\r\n        self.assert_text('Automation', 'div#ctitle')\r\n```\r\n\r\nHere's how to run the example script using various web browsers:\r\n\r\n```bash\r\ncd examples/\r\n\r\nnosetests my_first_test.py --with-selenium --browser=firefox -s\r\n\r\nnosetests my_first_test.py --with-selenium --browser=chrome -s\r\n\r\nnosetests my_first_test.py --with-selenium --browser=phantomjs -s\r\n```\r\n\r\nAfter the test completes, in the console output you'll see a dot (``.``) on a new line, representing a passing test. (On test failures you'll see an ``F`` instead, and on test errors you'll see an ``E``). It looks more like a moving progress bar when you're running a ton of unit tests side by side. This is part of nosetests. After all tests complete (in this case there is only one), you'll see the \"``Ran 1 test in ...``\" line, followed by an \"``OK``\" if all nosetests passed. The ``--with-selenium`` option is required for running GUI tests. If no browser is specified, Firefox will become the default. The ``-s`` option is optional, and that makes sure that any standard output is printed immediately on the command line when tests have print statements in them, which makes debugging much easier.\r\n\r\nNOTE: The following two lines of code can be simplified...\r\n``` python\r\ntext = self.get_text(CSS_SELECTOR)\r\nassert(TEXT_SEGMENT in text)\r\n```\r\n...into this one line:\r\n``` python\r\nself.assert_text(TEXT_SEGMENT, CSS_SELECTOR)\r\n```\r\n\r\nIf the example is moving too fast for your eyes to see what's going on, there are a few things you can do.\r\nYou can add ``--demo_mode`` on the command line, which pauses the browser for about a second (by default) after each action:\r\n\r\n```bash\r\nnosetests my_first_test.py --with-selenium -s --demo_mode\r\n```\r\n\r\nYou can override the default wait time by either updating [settings.py](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/config/settings.py) or by using ``--demo_sleep={NUM}`` when using Demo Mode. (NOTE: If you use ``--demo_sleep={NUM}`` without using ``--demo_mode``, nothing will happen.)\r\n\r\nIf you ever make any changes to your local copy of ``settings.py``, you may need to run ``python setup.py install`` for those changes to take effect.\r\n\r\n```bash\r\nnosetests my_first_test.py --with-selenium -s --demo_mode --demo_sleep=1.2\r\n```\r\n\r\nYou can also add either of the following to your scripts to slow down the tests:\r\n\r\n```python\r\nimport time; time.sleep(5)  # sleep for 5 seconds (add this after the line you want to pause on)\r\nimport ipdb; ipdb.set_trace()  # waits for your command. n = next line of current method, c = continue, s = step / next executed line (will jump)\r\n```\r\n\r\n(NOTE: If you're using pytest instead of nosetests and you want to use ipdb in your script for debugging purposes, you'll either need to add \"--capture=no\" on the command line, or use \"import pytest; pytest.set_trace()\" instead of using ipdb. More info on that [here](http://stackoverflow.com/questions/2678792/can-i-debug-with-python-debugger-when-using-py-test-somehow).)\r\n\r\nYou may also want to have your test sleep in other situations where you need to have your test wait for something. If you know what you're waiting for, you should be specific by using a command that waits for something specific to happen.\r\n\r\nIf you need to debug things on the fly (in case of errors), use this line to run the code:\r\n\r\n```bash\r\nnosetests my_first_test.py --browser=chrome --with-selenium --pdb --pdb-failures -s\r\n```\r\n\r\nThe above code (with --pdb) will leave your browser window open in case there's a failure, which is possible if the web pages from the example change the data that's displayed on the page. (ipdb commands: 'c', 's', 'n' => continue, step, next).\r\n\r\nHere are some other useful nosetest arguments that you may want to append to your run commands:\r\n\r\n```bash\r\n--logging-level=INFO  # Hide DEBUG messages, which can be overwhelming.\r\n-x  # Stop running the tests after the first failure is reached.\r\n-v  # Prints the full test name rather than a dot for each test.\r\n--with-id  # If -v is also used, will number the tests for easy counting.\r\n```\r\n\r\nDue to high demand, pytest support has been added. You can run the above sample script in pytest like this:\r\n\r\n```bash\r\npy.test my_first_test.py --with-selenium --with-testing_base --browser=firefox -s\r\n\r\npy.test my_first_test.py --with-selenium --with-testing_base --browser=chrome -s\r\n\r\npy.test my_first_test.py --with-selenium --with-testing_base --browser=phantomjs -s\r\n```\r\n\r\n(NOTE: If you're using pytest instead nosetests for running your own integration tests outside of the SeleniumBase file path, you'll need a copy of [conftest.py](https://github.com/seleniumbase/SeleniumBase/blob/master/conftest.py) inside your folder structure because the pytest configuration is defined there locally at runtime.)\r\n\r\n(NOTE: The ``--with-testing_base`` plugin gives you full logging on test failures for screenshots, page source, and basic test info.)\r\n\r\n**Creating Visual Test Suite Reports** (for nosetest users *ONLY*): The ``--report`` option gives you a fancy report after your test suite completes. (Requires ``--with-testing_base`` to also be set when ``--report`` is used)\r\n\r\n```bash\r\nnosetests my_test_suite.py --with-selenium --with-testing_base --report -s\r\n```\r\n![](http://cdn2.hubspot.net/hubfs/100006/images/Test_Report_2.png \"Example Test Report\")\r\n\r\n(NOTE: You can add ``--hide_report`` to immediately archive the report rather than displaying it after the test suite completes. You'll want to use this when running tests remotely because otherwise the test run will hang indefinitely until someone manually exits the report.)\r\n\r\n#### **Step 5:** Complete the setup\r\n\r\nIf you're planning on using the full power of this test framework, there are a few more things you'll want to do:\r\n\r\n* Setup your [Jenkins](http://jenkins-ci.org/) build server for running your tests at regular intervals. (Or you can use any build server you want.)\r\n\r\n* Setup an [Amazon S3](http://aws.amazon.com/s3/) account for saving your log files and screenshots for future viewing. This test framework already has the code you need to connect to it. (Modify [settings.py](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/config/settings.py) with connection details to your instance.)\r\n\r\n* Install [MySQL Workbench](http://dev.mysql.com/downloads/tools/workbench/) to make life easier by giving you a nice GUI tool that you can use to read & write from your DB directly.\r\n\r\n* Setup your Selenium Grid and update your *.cfg file to point there. An example config file called selenium_server_config_example.cfg has been provided for you in the integrations/selenium_grid folder. The start-selenium-node.bat and start-selenium-server.sh files are for running your grid. In an example situation, your Selenium Grid server might live on a unix box and your Selenium Grid nodes might live on EC2 Windows virtual machines. When your build server runs a Selenium test, it would connect to your Selenium Grid to find out which Grid browser nodes are available to run that test. To simplify things, you can use [Browser Stack](https://www.browserstack.com/automate) as your entire Selenium Grid (and let them do all the fun work of maintaining the grid for you).\r\n\r\n* There are ways of running your tests from Jenkins without having to utilize a remote machine. One way is by using PhantomJS as your browser (it runs headlessly). Another way is by using Xvfb (another headless system). [There's a plugin for Xvfb in Jenkins](https://wiki.jenkins-ci.org/display/JENKINS/Xvfb+Plugin).\r\nIf you have Xvfb running in the background, you can add ``--headless`` to your run command in order to utilize it. For information about the Xvfb plugin for Jenkins, [click here](http://qxf2.com/blog/xvfb-plugin-for-jenkins-selenium/).\r\n\r\n* If you use [Slack](https://slack.com), you can easily have your Jenkins jobs display results there by using the [Jenkins Slack Plugin](https://github.com/jenkinsci/slack-plugin). Another way to send messages from your tests to Slack is by using [Slack's Incoming Webhooks API](https://api.slack.com/incoming-webhooks).\r\n\r\n* If you use [HipChat](https://www.hipchat.com/), you can easily have your Jenkins jobs display results there by using the [Jenkins HipChat Plugin](https://wiki.jenkins-ci.org/display/JENKINS/HipChat+Plugin). Another way is by using the [hipchat_reporting plugin](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/plugins/hipchat_reporting_plugin.py) (nosetests only).\r\n\r\n* Be sure to tell SeleniumBase to use these added features when you set them up. That's easy to do. You would be running tests like this:\r\n\r\n```bash\r\nnosetests [YOUR_TEST_FILE].py --browser=chrome --with-selenium --with-testing_base --with-db_reporting --with-s3_logging -s\r\n```\r\n(NOTE: Don't use ``--with-db_reporting`` or ``--with-s3_logging`` if you haven't configured your MySQL or S3 connections in [settings.py](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/config/settings.py))\r\n\r\nWhen the testing_base plugin is used, if there's a test failure, the basic_test_info plugin records test logs, the page_source plugin records the page source of the last web page seen by the test, and the screen_shots plugin records the image of the last page seen by the test where the failure occurred. Make sure you always include testing_base whenever you include a plugin that logs test data. The db_reporting plugin records the status of all tests run into your MySQL DB. The s3_logging plugin uploads basic test info, screenshots, and page source into your S3 storage folder.\r\n\r\nTo simplify that long run command, you can create a *.cfg file, such as the one provided in the example, and enter your plugins there so that you can run everything by typing:\r\n\r\n```bash\r\nnosetests [YOUR_TEST_FILE].py --config=[MY_CONFIG_FILE].cfg -s\r\n```\r\n\r\nYou can simplify that even more by using a setup.cfg file, such as the one provided for you in the examples folder. If you kick off a test run from within the folder that setup.cfg is location in, that file will automatically be used as your configuration, meaning that you wouldn't have to type out all the plugins that you want to use (or include a config file) everytime you run tests.\r\n\r\nIf you tell nosetests to run an entire file, it will run every method in that python file that starts with \"test\". You can be more specific on what to run by doing something like:\r\n\r\n```bash\r\nnosetests [YOUR_TEST_FILE].py:[SOME_CLASS_NAME].test_[SOME_TEST_NAME] --config=[MY_CONFIG_FILE].cfg -s\r\n```\r\n\r\nLet's try an example of a test that fails. Copy the following into a file called fail_test.py:\r\n```python\r\n\"\"\" test_fail.py \"\"\"\r\nfrom seleniumbase import BaseCase\r\n\r\nclass MyTestClass(BaseCase):\r\n\r\n    def test_find_army_of_robots_on_xkcd_desert_island(self):\r\n        self.open(\"http://xkcd.com/731/\")\r\n        self.assert_element(\"div#ARMY_OF_ROBOTS\", timeout=3)  # This should fail\r\n```\r\nNow run it:\r\n\r\n```bash\r\nnosetests test_fail.py --browser=chrome --with-selenium --with-testing_base -s\r\n```\r\n\r\nYou'll notice that a logs folder, \"latest_logs\", was created to hold information about the failing test, and screenshots. Take a look at what you get. Remember, this data can be saved in your MySQL DB and in S3 if you include the necessary plugins in your run command (and if you set up the neccessary connections properly). For future test runs, past test results will get stored in the archived_logs folder if you have ARCHIVE_EXISTING_LOGS set to True in [settings.py](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/config/settings.py).\r\n\r\nHave you made it this far? Congratulations!!! Now you're ready to dive in at full speed!\r\n\r\n\r\n### Part II: Detailed Method Specifications, Examples\r\n\r\n#### Navigating to a Page, Plus Some Other Useful Related Commands\r\n\r\n```python\r\nself.open(\"https://xkcd.com/378/\")  # Instant navigation to any web page.\r\n\r\nself.driver.refresh()  # refresh/reload the current page.\r\n\r\nwhere_am_i = self.driver.current_url  # this variable changes as the current page changes.\r\n\r\nsource = self.driver.page_source   # this variable changes as the page source changes.\r\n```\r\n\r\n**ProTip™:** You may need to use the page_source method along with Python's find() command to parse through the source to find something that Selenium wouldn't be able to. (You may want to brush up on your Python programming skills if you're confused.)\r\nEx:\r\n```python\r\nsource = self.driver.page_source\r\nfirst_image_open_tag = source.find('<img>')\r\nfirst_image_close_tag = source.find'</img>', first_image_open_tag)\r\neverything_inside_first_image_tags = source[first_image_open_tag+len('<img>'):first_image_close_tag]\r\n```\r\n\r\n#### Clicking\r\n\r\nTo click an element on the page:\r\n\r\n```python\r\nself.click(\"div#my_id\")\r\n```\r\n\r\n#### Typing Text\r\n\r\nself.update_text(selector, text)  # updates the text from the specified element with the specified value. An exception is raised if the element is missing or if the text field is not editable. Example:\r\n\r\n```python\r\nself.update_text(\"input#id_value\", \"2012\")\r\n```\r\n\r\nYou can also use self.add_text() or the WebDriver .send_keys() command, but those won't clear the text box first if there's already text inside.\r\nIf you want to type in special keys, that's easy too. Here's an example:\r\n\r\n```python\r\nfrom selenium.webdriver.common.keys import Keys\r\nself.find_element(\"textarea\").send_keys(Keys.SPACE + Keys.BACK_SPACE + '\\n')  # the backspace should cancel out the space, leaving you with the newline\r\n```\r\n\r\n#### Getting the text from an element on a page\r\n\r\n```python\r\nself.get_text(\"header h2\")\r\n```\r\n\r\n#### Asserting existance of an element on a page within some number of seconds:\r\n\r\n```python\r\nself.wait_for_element_present(\"div.my_class\", timeout=10)\r\n```\r\n(NOTE: You can also use: ``self.assert_element_present(ELEMENT)``)\r\n\r\n#### Asserting visibility of an element on a page within some number of seconds:\r\n\r\n```python\r\nself.wait_for_element_visible(\"a.my_class\", timeout=5)\r\n```\r\n(NOTE: The short versions of this are ``self.find_element(ELEMENT)`` and ``self.assert_element(ELEMENT)``. The find_element() version returns the element)\r\n\r\nSince the line above returns the element, you can combine that with .click() as shown below:\r\n\r\n```python\r\nself.find_element(\"a.my_class\", timeout=5).click()\r\n\r\n# But you're better off using the following statement, which does the same thing:\r\n\r\nself.click(\"a.my_class\")  # DO IT THIS WAY!\r\n```\r\n\r\nUsing dots to signify class names is a simplified way of using ``*=`` within a CSS selector. That simplified version looks like this:\r\n\r\n```python\r\nself.click('a[class*=\"my_class\"]')\r\n```\r\n\r\n**ProTip™:** You can use ``*=`` to search for any partial value in a CSS selector.\r\n\r\n#### Asserting visibility of text inside an element on a page within some number of seconds:\r\n\r\n```python\r\nself.wait_for_text_visible(\"Make it so!\", \"div#trek div.picard div.quotes\", timeout=3)\r\nself.wait_for_text_visible(\"Tea. Earl Grey. Hot.\", \"div#trek div.picard div.quotes\", timeout=1)\r\n```\r\n(NOTE: The short versions of this are ``self.find_text(TEXT, ELEMENT)`` and ``self.assert_text(TEXT, ELEMENT)``)\r\n\r\n#### Asserting Anything\r\n\r\n```python\r\nself.assertTrue(myvar1 == something)\r\n\r\nself.assertEqual(var1, var2)\r\n```\r\n\r\n#### Useful Conditional Statements (with creative examples in action)\r\n\r\nis_element_visible(selector)  # is an element visible on a page\r\n```python\r\nimport logging\r\nif self.is_element_visible('div#warning'):\r\n    logging.debug(\"Red Alert: Something bad might be happening!\")\r\n```\r\n\r\nis_element_present(selector)  # is an element present on a page\r\n```python\r\nif self.is_element_present('div#top_secret img.tracking_cookie'):\r\n    self.contact_cookie_monster()  # Not a real method unless you define it somewhere\r\nelse:\r\n    current_url = self.driver.current_url\r\n    self.contact_the_nsa(url=current_url, message=\"Dark Zone Found\")  # Not a real method unless you define it somewhere\r\n```\r\nAnother example:\r\n```python\r\ndef is_there_a_cloaked_klingon_ship_on_this_page():\r\n    if self.is_element_present(\"div.ships div.klingon\"):\r\n        return not self.is_element_visible(\"div.ships div.klingon\")\r\n    return False\r\n```\r\n\r\nis_text_visible(text, selector)  # is text visible on a page\r\n```python\r\ndef get_mirror_universe_captain_picard_superbowl_ad(superbowl_year):\r\n    selector = \"div.superbowl_%s div.commercials div.transcript div.picard\" % superbowl_year\r\n    if self.is_text_visible(\"For the Love of Marketing and Earl Grey Tea!\", selector):\r\n        return \"Picard HubSpot Superbowl Ad 2015\"\r\n    elif self.is_text_visible(\"Delivery Drones... Engage\", selector):\r\n        return \"Picard Amazon Superbowl Ad 2015\"\r\n    elif self.is_text_visible(\"Bing it on Screen!\", selector):\r\n        return \"Picard Microsoft Superbowl Ad 2015\"\r\n    elif self.is_text_visible(\"OK Glass, Make it So!\", selector):\r\n        return \"Picard Google Superbowl Ad 2015\"\r\n    elif self.is_text_visible(\"Number One, I've Never Seen Anything Like It.\", selector):\r\n        return \"Picard Tesla Superbowl Ad 2015\"\r\n    elif self.is_text_visible(\"\"\"With the first link, the chain is forged.\r\n                              The first speech censored, the first thought forbidden,\r\n                              the first freedom denied, chains us all irrevocably.\"\"\", selector):\r\n        return \"Picard Wikimedia Superbowl Ad 2015\"\r\n    elif self.is_text_visible(\"Let us make sure history never forgets the name ... Facebook\", selector):\r\n        return \"Picard Facebook Superbowl Ad 2015\"\r\n    else:\r\n        raise Exception(\"Reports of my assimilation are greatly exaggerated.\")\r\n```\r\n\r\n#### Switching Tabs\r\n\r\nWhat if your test opens up a new tab/window and now you have more than one page? No problem. You need to specify which one you currently want Selenium to use. Switching between tabs/windows is easy:\r\nEx:\r\n\r\n```python\r\nself.driver.switch_to.window(self.driver.window_handles[1])  # this switches to the new tab\r\n```\r\n\r\ndriver.window_handles is a list that will continually get updated when new windows/tabs appear (index numbering is auto-incrementing from 0, which represents the main window)\r\n\r\n**ProTip™:** iFrames follow the same principle as new windows - you need to specify the iFrame if you want to take action on something in there\r\nEx:\r\n\r\n```python\r\nself.driver.switch_to.frame('ContentManagerTextBody_ifr')\r\n# Now you can act inside the iFrame\r\n# Do something cool (here)\r\nself.driver.switch_to.default_content()  # exit the iFrame when you're done\r\n```\r\n\r\n#### Handle Pop-Up Alerts\r\n\r\nWhat if your test makes an alert pop up in your browser? No problem. You need to switch to it and either accept it or dismiss it:\r\nEx:\r\n\r\n```python\r\nself.wait_for_and_accept_alert()\r\n\r\nself.wait_for_and_dismiss_alert()\r\n```\r\n\r\nIf you're not sure whether there's an alert before trying to accept or dismiss it, one way to handle that is to wrap your alert-handling code in a try/except block. Other methods such as .text and .send_keys() will also work with alerts.\r\n\r\n#### Executing Custom jQuery Scripts:\r\n\r\njQuery is a powerful JavaScript library that allows you to perform advanced actions in a web browser.\r\nIf the web page you're on already has jQuery loaded, you can start executing jQuery scripts immediately.\r\nYou'd know this because the web page would contain something like the following in the HTML:\r\n\r\n```html\r\n<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\"></script>\r\n```\r\n\r\nIt's OK if you want to use jQuery on a page that doesn't have it loaded yet. To do so, run the following command first:\r\n\r\n```python\r\nself.activate_jquery()\r\n```\r\n\r\nHere are some examples of using jQuery in your scripts:\r\n```python\r\nself.execute_script('jQuery, window.scrollTo(0, 600)')  # Scrolling the page\r\n\r\nself.execute_script(\"jQuery('#annoying-widget').hide()\")  # Hiding elements on a page\r\n\r\nself.execute_script(\"jQuery('#annoying-button a').remove()\")  # Removing elements on a page\r\n\r\nself.execute_script(\"jQuery('%s').mouseover()\" % (mouse_over_item))  # Mouse-over elements on a page\r\n\r\nself.execute_script(\"jQuery('input#the_id').val('my_text')\")  # Fast text input on a page\r\n\r\nself.execute_script(\"jQuery('div#dropdown a.link').click()\")  # Click elements on a page\r\n\r\nself.execute_script(\"return jQuery('div#amazing')[0].text\")  # Returns the css \"text\" of the element given\r\n\r\nself.execute_script(\"return jQuery('textarea')[2].value\")  # Returns the css \"value\" of the 3rd textarea element on the page\r\n```\r\n\r\nIn the following example, javascript is used to plant code on a page that Selenium can then touch after that:\r\n```python\r\nself.open(SOME_PAGE_TO_PLAY_WITH)\r\nreferral_link = '<a class=\"analytics test\" href=\"%s\">Free-Referral Button!</a>' % DESTINATION_URL\r\nself.execute_script(\"document.body.innerHTML = \\\"%s\\\"\" % referral_link)\r\nself.click(\"a.analytics\")  # Clicks the generated button\r\n```\r\n\r\n#### Using non-terminating verifications:\r\n\r\nLet's say you want to verify multiple different elements on a web page in a single test, but you don't want the test to fail until you verified several elements at once so that you don't have to rerun the test to find more missing elements on the same page. That's where page checks come in. Here's the example:\r\n\r\n```python\r\nfrom seleniumbase import BaseCase\r\n\r\nclass MyTestClass(BaseCase):\r\n\r\n    def test_non_terminating_checks(self):\r\n        self.open('http://xkcd.com/993/')\r\n        self.wait_for_element('#comic')\r\n        self.check_assert_element('img[alt=\"Brand Identity\"]')\r\n        self.check_assert_element('img[alt=\"Rocket Ship\"]')  # Will Fail\r\n        self.check_assert_element('#comicmap')\r\n        self.check_assert_text('Fake Item', '#middleContainer')  # Will Fail\r\n        self.check_assert_text('Random', '#middleContainer')\r\n        self.check_assert_element('a[name=\"Super Fake !!!\"]')  # Will Fail\r\n        self.process_checks()\r\n```\r\n\r\n``check_assert_element()`` and ``check_assert_text()`` will save any exceptions that would be raised.\r\nTo flush out all the failed checks into a single exception, make sure to call ``self.process_checks()`` at the end of your test method. If your test hits multiple pages, you can call ``self.process_checks()`` at the end of all your checks for a single page. This way, the screenshot from your log file will make the location where the checks were made.\r\n\r\n### Part III: More Details\r\n\r\nNosetests automatically runs any python method that starts with \"test\" from the file you selected. You can also select specific tests to run from files or classes. For example, the code in the early examples could've been run using \"nosetests my_first_test.py:MyTestClass.test_basic ... ...\". If you wanted to run all tests in MyTestClass, you can use: \"nosetests my_first_test.py:MyTestClass ... ...\", which is useful when you have multiple tests in the same file. Don't forget the plugins. Use \"-s\" if you want better logging in the console output.\r\n\r\nTo use the SeleniumBase Test Framework calls, don't forget to include the following import:\r\n\r\n```python\r\nfrom seleniumbase import BaseCase\r\n```\r\n\r\nAnd you'll need to inherit BaseCase in your classes like so:\r\n\r\n```python\r\nclass MyTestClass(BaseCase):\r\n```\r\n\r\n####  Checking Email: \r\nLet's say you have a test that sends an email, and now you want to check that the email was received:\r\n\r\n```python\r\nfrom seleniumbase.fixtures.email_manager import EmailManager, EmailException\r\nnum_email_results = 0\r\nemail_subject = \"This is the subject to search for (maybe include a timestamp)\"\r\nemail_manager = EmailManager(\"[YOUR SELENIUM GMAIL EMAIL ADDRESS]\")  # the password for this is elsewhere (in the library) because this is a default email account\r\ntry:\r\n    html_text = email_manager.search(SUBJECT=\"%s\" % email_subject, timeout=300)\r\n    num_email_results = len(html_text)\r\nexcept EmailException:\r\n    num_email_results = 0\r\nself.assertTrue(num_email_results)  # true if not zero\r\n```\r\n\r\nNow you can parse through the email if you're looking for specific text or want to navigate to a link listed there.\r\n\r\n\r\n####  Database Powers: \r\nLet's say you have a test that needs to access the database. First make sure you already have a table ready. Then try this example:\r\n\r\n```python\r\nfrom seleniumbase.core.mysql import DatabaseManager\r\ndef write_data_to_db(self, theId, theValue, theUrl):\r\n    db = DatabaseManager()\r\n    query = \"\"\"INSERT INTO myTable(theId,theValue,theUrl)\r\n               VALUES (%(theId)s,%(theValue)s,%(theUrl)s)\"\"\"\r\n    db.execute_query_and_close(query, {\"theId\":theId,\r\n                               \"theValue\":theValue,\r\n                               \"theUrl\":theUrl})\r\n```\r\n\r\nAccess credentials are stored in [settings.py](https://github.com/seleniumbase/SeleniumBase/blob/master/seleniumbase/config/settings.py) for your convenience (you have to add them first).\r\n\r\nThe following example below (taken from the Delayed Data Manager) shows how data can be pulled from the database.\r\n\r\n```python\r\nimport logging\r\nfrom seleniumbase.core.mysql import DatabaseManager\r\n\r\ndef get_delayed_test_data(self, testcase_address, done=0):\r\n    \"\"\" Returns a list of rows \"\"\"\r\n    db = DatabaseManager()\r\n    query = \"\"\"SELECT guid,testcaseAddress,insertedAt,expectedResult,done\r\n               FROM delayedTestData\r\n               WHERE testcaseAddress=%(testcase_address)s\r\n               AND done=%(done)s\"\"\"\r\n    data = db.fetchall_query_and_close(query, {\"testcase_address\":testcase_address, \"done\":done})\r\n    if data:\r\n        return data\r\n    else:\r\n        logging.debug(\"Could not find any rows in delayedTestData.\")\r\n        logging.debug(\"DB Query = \" + query % {\"testcase_address\":testcase_address, \"done\":done})\r\n        return []\r\n```\r\n\r\nNow you know how to pull data from your MySQL DB.\r\n\r\nYou may also be wondering when you would use the Delayed Data Manager. Here's one example: If you scheduled an email to go out 12 hours from now and you wanted to check that the email gets received (but you don't want the Selenium test of a Jenkins job to sit idle for 12 hours) you can store the email credentials as a unique time-stamp for the email subject in the DB (along with a time for when it's safe for the email to be searched for) and then a later-running test can do the checking after the right amount of time has passed.\r\n\r\n\r\nCongratulations! If you've made it this far, it means you have a pretty good idea about how to move forward!\r\nFeel free to check out these other exciting open source projects on GitHub by some smart people I know:\r\n[https://github.com/hubspot](https://github.com/hubspot)\r\n\r\nHappy Automating!\r\n\r\n~ Michael Mintz (https://github.com/mdmintz)\r\n\r\n\r\n### Legal Disclaimer\r\nAutomation is a powerful thing. It allows you to take full control of web browsers and do almost anything that a human could do, but faster. It can be used for both good and evil. With great power comes great responsibility. You are fully responsible for how you use this platform and the automation that you create.\r\n",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}